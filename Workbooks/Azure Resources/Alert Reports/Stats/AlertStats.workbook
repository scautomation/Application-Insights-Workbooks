{
    "type": 12,
    "content": {
      "version": "NotebookGroup/1.0",
      "groupType": "editable",
      "items": [
        {
          "type": 3,
          "content": {
            "version": "KqlItem/1.0",
            "query": "alertsmanagementresources\r\n| extend FireTime = todatetime(properties.essentials.startDateTime), \r\n         LastModifiedTime = todatetime(properties.essentials.lastModifiedDateTime),\r\n         Severity = tostring(properties.essentials.severity), \r\n         MonitorCondition = tostring(properties.essentials.monitorCondition), \r\n         AlertTarget = tostring(properties.essentials.targetResourceType), \r\n         MonitorService = tostring(properties.essentials.monitorService),\r\n         ResolvedTime = todatetime(properties.essentials.monitorConditionResolvedDateTime)\r\n| where FireTime {TimeRange}\r\n| extend AlertTarget = case(\r\n                MonitorService == 'ActivityLog Administrative', 'ActivityLog',\r\n                AlertTarget == 'microsoft.insights/components', 'App Insights',\r\n                AlertTarget == 'microsoft.operationalinsights/workspaces', 'Log Analytics', \r\n                AlertTarget)   \r\n| where AlertTarget in~ ({AlertTarget}) or '*' in~ ({AlertTarget}) \r\n| extend OpenTime = datetime_diff('minute', now(), FireTime)\r\n| summarize avg(OpenTime) by subscriptionId",
            "size": 4,
            "title": "Open Time by Subscription",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "crossComponentResources": [
              "value::all"
            ],
            "visualization": "tiles",
            "tileSettings": {
              "titleContent": {
                "columnMatch": "subscriptionId",
                "formatter": 15,
                "formatOptions": {
                  "linkTarget": null,
                  "showIcon": true
                }
              },
              "leftContent": {
                "columnMatch": "avg_OpenTime",
                "formatter": 12,
                "formatOptions": {
                  "min": 0,
                  "palette": "greenRed"
                },
                "numberFormat": {
                  "unit": 25,
                  "options": {
                    "style": "decimal",
                    "maximumFractionDigits": 2,
                    "maximumSignificantDigits": 3
                  }
                }
              },
              "showBorder": true
            }
          },
          "name": "Reports - Average Open Time by Subscription"
        },
        {
          "type": 3,
          "content": {
            "version": "KqlItem/1.0",
            "query": "alertsmanagementresources\r\n| extend FireTime = todatetime(properties.essentials.startDateTime), \r\n         LastModifiedTime = todatetime(properties.essentials.lastModifiedDateTime),\r\n         Severity = tostring(properties.essentials.severity), \r\n         MonitorCondition = tostring(properties.essentials.monitorCondition), \r\n         AlertTarget = tostring(properties.essentials.targetResourceType), \r\n         MonitorService = tostring(properties.essentials.monitorService),\r\n         ResolvedTime = todatetime(properties.essentials.monitorConditionResolvedDateTime)\r\n| where FireTime {TimeRange}\r\n| extend AlertTarget = case(\r\n                MonitorService == 'ActivityLog Administrative', 'ActivityLog',\r\n                AlertTarget == 'microsoft.insights/components', 'App Insights',\r\n                AlertTarget == 'microsoft.operationalinsights/workspaces', 'Log Analytics', \r\n                AlertTarget)   \r\n| where AlertTarget in~ ({AlertTarget}) or '*' in~ ({AlertTarget}) \r\n| extend OpenTime = datetime_diff('minute', now(), FireTime)\r\n| summarize avg(OpenTime) by Severity",
            "size": 3,
            "title": "Open Time by Severity",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "crossComponentResources": [
              "value::all"
            ],
            "visualization": "tiles",
            "tileSettings": {
              "titleContent": {
                "columnMatch": "Severity",
                "formatter": 18,
                "formatOptions": {
                  "thresholdsOptions": "icons",
                  "thresholdsGrid": [
                    {
                      "operator": "==",
                      "thresholdValue": "Sev0",
                      "representation": "Sev0",
                      "text": "{0}{1}"
                    },
                    {
                      "operator": "==",
                      "thresholdValue": "Sev1",
                      "representation": "Sev1",
                      "text": "{0}{1}"
                    },
                    {
                      "operator": "==",
                      "thresholdValue": "Sev2",
                      "representation": "Sev2",
                      "text": "{0}{1}"
                    },
                    {
                      "operator": "==",
                      "thresholdValue": "Sev3",
                      "representation": "Sev3",
                      "text": "{0}{1}"
                    },
                    {
                      "operator": "Default",
                      "thresholdValue": null,
                      "representation": "Sev4",
                      "text": "{0}{1}"
                    }
                  ]
                }
              },
              "leftContent": {
                "columnMatch": "avg_OpenTime",
                "formatter": 12,
                "formatOptions": {
                  "min": 0,
                  "palette": "greenRed"
                },
                "numberFormat": {
                  "unit": 25,
                  "options": {
                    "style": "decimal",
                    "maximumFractionDigits": 2,
                    "maximumSignificantDigits": 3
                  }
                }
              },
              "showBorder": true
            }
          },
          "name": "Reports - Average Open Top by Severity",
          "styleSettings": {
            "showBorder": true
          }
        },
        {
          "type": 3,
          "content": {
            "version": "KqlItem/1.0",
            "query": "alertsmanagementresources\r\n| extend FireTime = todatetime(properties.essentials.startDateTime), \r\n         LastModifiedTime = todatetime(properties.essentials.lastModifiedDateTime),\r\n         Severity = tostring(properties.essentials.severity), \r\n         MonitorCondition = tostring(properties.essentials.monitorCondition), \r\n         AlertTarget = tostring(properties.essentials.targetResourceType), \r\n         MonitorService = tostring(properties.essentials.monitorService),\r\n         ResolvedTime = todatetime(properties.essentials.monitorConditionResolvedDateTime)\r\n| where FireTime {TimeRange}\r\n| extend AlertTarget = case(\r\n                MonitorService == 'ActivityLog Administrative', 'ActivityLog',\r\n                //AlertTarget == 'microsoft.insights/components', 'App Insights',\r\n                //AlertTarget == 'microsoft.operationalinsights/workspaces', 'Log Analytics', \r\n                AlertTarget)   \r\n//| where AlertTarget in~ ({AlertTarget}) or '*' in~ ({AlertTarget}) \r\n| extend OpenTime = datetime_diff('minute', now(), FireTime)\r\n| summarize avg(OpenTime) by AlertTarget",
            "size": 3,
            "title": "Top 5 Open Time by Target Resource Type",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "crossComponentResources": [
              "value::all"
            ],
            "visualization": "tiles",
            "tileSettings": {
              "titleContent": {
                "columnMatch": "AlertTarget",
                "formatter": 16,
                "formatOptions": {
                  "showIcon": true
                }
              },
              "leftContent": {
                "columnMatch": "avg_OpenTime",
                "formatter": 12,
                "formatOptions": {
                  "min": 0,
                  "palette": "greenRed"
                },
                "numberFormat": {
                  "unit": 25,
                  "options": {
                    "style": "decimal",
                    "maximumFractionDigits": 2,
                    "maximumSignificantDigits": 3
                  }
                }
              },
              "showBorder": true
            }
          },
          "customWidth": "50",
          "name": "Reports - Top 5 Open Time by Resource Type",
          "styleSettings": {
            "showBorder": true
          }
        },
        {
          "type": 3,
          "content": {
            "version": "KqlItem/1.0",
            "query": "alertsmanagementresources\r\n| extend FireTime = todatetime(properties.essentials.startDateTime), \r\n         LastModifiedTime = todatetime(properties.essentials.lastModifiedDateTime),\r\n         Severity = tostring(properties.essentials.severity), \r\n         MonitorCondition = tostring(properties.essentials.monitorCondition), \r\n         AlertTarget = tostring(properties.essentials.targetResourceType), \r\n         MonitorService = tostring(properties.essentials.monitorService),\r\n         ResolvedTime = todatetime(properties.essentials.monitorConditionResolvedDateTime),\r\n         TargetResource = tostring(properties.essentials.targetResource)\r\n| where FireTime {TimeRange}\r\n| extend AlertTarget = case(\r\n                MonitorService == 'ActivityLog Administrative', 'ActivityLog',\r\n                AlertTarget == 'microsoft.insights/components', 'App Insights',\r\n                AlertTarget == 'microsoft.operationalinsights/workspaces', 'Log Analytics', \r\n                AlertTarget)   \r\n| where AlertTarget in~ ({AlertTarget}) or '*' in~ ({AlertTarget}) \r\n| extend OpenTime = datetime_diff('minute', now(), FireTime)\r\n| summarize avg(OpenTime) by TargetResource\r\n| top 5 by avg_OpenTime\r\n| sort by avg_OpenTime desc",
            "size": 3,
            "title": "Top 5 Open Time by Target Resource",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "crossComponentResources": [
              "value::all"
            ],
            "visualization": "tiles",
            "gridSettings": {
              "formatters": [
                {
                  "columnMatch": "TargetResource",
                  "formatter": 13,
                  "formatOptions": {
                    "linkTarget": null,
                    "showIcon": true
                  }
                }
              ]
            },
            "tileSettings": {
              "titleContent": {
                "columnMatch": "TargetResource",
                "formatter": 13,
                "formatOptions": {
                  "linkTarget": "Resource",
                  "showIcon": true
                }
              },
              "leftContent": {
                "columnMatch": "avg_OpenTime",
                "formatter": 12,
                "formatOptions": {
                  "min": 0,
                  "palette": "greenRed"
                },
                "numberFormat": {
                  "unit": 25,
                  "options": {
                    "style": "decimal",
                    "maximumFractionDigits": 2,
                    "maximumSignificantDigits": 3
                  }
                }
              },
              "showBorder": true
            }
          },
          "customWidth": "50",
          "name": "Reports - Top 5 Open Time by Resource",
          "styleSettings": {
            "showBorder": true
          }
        },
        {
          "type": 3,
          "content": {
            "version": "KqlItem/1.0",
            "query": "alertsmanagementresources\r\n| extend FireTime = todatetime(properties.essentials.startDateTime), \r\n         Severity = tostring(properties.essentials.severity), \r\n         MonitorCondition = tostring(properties.essentials.monitorCondition), \r\n         AlertTarget = tostring(properties.essentials.targetResourceType), \r\n         MonitorService = tostring(properties.essentials.monitorService)\r\n| where FireTime {TimeRange}\r\n| extend AlertTarget = case(\r\n        MonitorService == 'ActivityLog Administrative', 'ActivityLog',\r\n        AlertTarget == 'microsoft.insights/components', 'App Insights',\r\n        AlertTarget == 'microsoft.operationalinsights/workspaces', 'Log Analytics', \r\n        AlertTarget)\r\n| where AlertTarget in~ ({AlertTarget}) or '*' in~ ({AlertTarget})\r\n| summarize Sev0 = countif(Severity == \"Sev0\"), \r\n            Sev1 = countif(Severity == \"Sev1\"), \r\n            Sev2 = countif(Severity == \"Sev2\"), \r\n            Sev3 = countif(Severity == \"Sev3\"), \r\n            Sev4 = countif(Severity == \"Sev4\") \r\n        by bin(FireTime, 1d)",
            "size": 0,
            "title": "Daily Alerts by Severity",
            "queryType": 1,
            "resourceType": "microsoft.resourcegraph/resources",
            "crossComponentResources": [
              "{Subscription}"
            ],
            "visualization": "areachart",
            "chartSettings": {
              "xAxis": "FireTime",
              "seriesLabelSettings": [
                {
                  "seriesName": "Sev0",
                  "color": "redBright"
                },
                {
                  "seriesName": "Sev1",
                  "color": "orange"
                },
                {
                  "seriesName": "Sev4",
                  "color": "blue"
                }
              ]
            }
          },
          "customWidth": "50",
          "name": "Reports - Area Chart Severity by Day"
        }
      ]
    },
    "conditionalVisibility": {
      "parameterName": "tab",
      "comparison": "isEqualTo",
      "value": "stats"
    },
    "name": "group - Stats"
  }